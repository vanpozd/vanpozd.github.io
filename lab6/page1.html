<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cute cat site</title>
	<link rel="stylesheet" href="basicstyle.css">
</head>

<body>
	<div class="vert-flex-cont">
		<div class="one">
			<h1 class="captionspace">Page 1</h1>
			<p id="Block1text">Фізичні вправи є необхідною складовою здорового способу життя. Вони сприяють загальному
				покращенню фізичного і психічного здоров'я. Регулярна фізична активність допомагає зміцнити м'язи та
				кістки, покращити кровообіг, збільшити витрату калорій і підтримувати оптимальну вагу.</p>
			</p>
		</div>
		<div class="gor-flex-cont">
			<div class="vert-flex-cont">
				<div class="gor-flex-cont">
					<div class="two">
						<p id="Block2text">Фізичні вправи є необхідною складовою здорового способу життя. Вони сприяють
							загальному покращенню фізичного і психічного здоров'я. Регулярна фізична активність
							допомагає зміцнити м'язи та кістки, покращити кровообіг, збільшити витрату калорій і
							підтримувати оптимальну вагу.</p>
					</div>
					<div class="vert-flex-cont">
						<div class="three">
							<div id="dropDownTitleContainer">
								<form id="form">
									<label class="dropDownTitle">Новий елемент:</label>
									<input type="text" id="newItem">
									<input type="number" id="listNumber" min="1" max="5" value="1">
									<button type="button" onclick="addItem()">Додати</button>
								</form>
							</div>
							<div class="dropdownlistholder">
								<div class="dropdown" id="dropdowncont1">
									<div class="dropbtn">Dropdown1</div>
									<div id="myDropdown1" class="dropdown-content">
										<!-- Elements here -->
									</div>
								</div>
								<div class="dropdown" id="dropdowncont2">
									<div class="dropbtn">Dropdown2</div>
									<div id="myDropdown2" class="dropdown-content">
										<!-- Elements here -->
									</div>
								</div>
								<div class="dropdown" id="dropdowncont3">
									<div class="dropbtn">Dropdown3</div>
									<div id="myDropdown3" class="dropdown-content">
										<!-- Elements here -->
									</div>
								</div>
								<div class="dropdown" id="dropdowncont4">
									<div class="dropbtn">Dropdown4</div>
									<div id="myDropdown4" class="dropdown-content">
										<!-- Elements here -->
									</div>
								</div>
								<div class="dropdown" id="dropdowncont5">
									<div class="dropbtn">Dropdown5</div>
									<div id="myDropdown5" class="dropdown-content">
										<!-- Elements here -->
									</div>
								</div>
							</div>
							<a href="index.html" id="secondpageref">Головна сторінка</a>
						</div>
						<div class="five">
							<p id="Block5text">Фізичні вправи є необхідною складовою здорового способу життя. Вони
								сприяють загальному
								покращенню фізичного і психічного здоров'я. Регулярна фізична активність допомагає
								зміцнити м'язи та кістки, покращити кровообіг, збільшити витрату калорій і підтримувати
								оптимальну вагу.</p>
						</div>
					</div>
				</div>
				<div class="six">
					<h2 class="captionspace">Made with flexbox</h2>
					<p id="Block6text">Фізичні вправи є необхідною складовою здорового способу життя. Вони сприяють
						загальному покращенню фізичного і психічного здоров'я. Регулярна фізична активність допомагає
						зміцнити м'язи та кістки, покращити кровообіг, збільшити витрату калорій і підтримувати
						оптимальну вагу.</p>
					</p>
				</div>
			</div>
			<div class="four">
				<p id="Block4text">Фізичні вправи є необхідною складовою здорового способу життя. Вони сприяють
					загальному покращенню
					фізичного і психічного здоров'я. Регулярна фізична активність допомагає зміцнити м'язи та кістки,
					покращити кровообіг, збільшити витрату калорій і підтримувати оптимальну вагу.</p>
			</div>
		</div>
	</div>

	<script>
		var dropdownContainer1 = document.getElementById('dropdowncont1');
		var dropdownContainer2 = document.getElementById('dropdowncont2');
		var dropdownContainer3 = document.getElementById('dropdowncont3');
		var dropdownContainer4 = document.getElementById('dropdowncont4');
		var dropdownContainer5 = document.getElementById('dropdowncont5');

		var dropdownMenu1 = document.getElementById('myDropdown1');
		var dropdownMenu2 = document.getElementById('myDropdown2');
		var dropdownMenu3 = document.getElementById('myDropdown3');
		var dropdownMenu4 = document.getElementById('myDropdown4');
		var dropdownMenu5 = document.getElementById('myDropdown5');

		var form = document.getElementById('form');

		const secondpageref = document.getElementById('secondpageref');

		var dataToSend = {
			dropdown1: [],
			dropdown2: [],
			dropdown3: [],
			dropdown4: [],
			dropdown5: []
		};

		function addItem() {
			var newItemInput = document.getElementById('newItem');
			var newItemText = newItemInput.value.trim();
			var DropDownMenuSelecotr = document.getElementById('listNumber');
			var DropDownMenuNumber = DropDownMenuSelecotr.value;

			if (newItemText !== '') {
				var newItem = document.createElement('a');
				newItem.href = '#';
				newItem.className = 'dropdown-item';
				newItem.textContent = newItemText;

				newItem.addEventListener('click', function () {
					removeItem(newItem, DropDownMenuNumber);
				});

				switch (DropDownMenuNumber) {
					case '1':
						dropdownMenu1.appendChild(newItem);
						break;
					case '2':
						dropdownMenu2.appendChild(newItem);
						break;
					case '3':
						dropdownMenu3.appendChild(newItem);
						break;
					case '4':
						dropdownMenu4.appendChild(newItem);
						break;
					case '5':
						dropdownMenu5.appendChild(newItem);
						break;
				}
				newItemInput.value = '';
			}
		}

		function removeItem(item, menuNumber) {
			if (menuNumber === '1') {
				dropdownMenu1.removeChild(item);
			} else if (menuNumber === '2') {
				dropdownMenu2.removeChild(item);
			} else if (menuNumber === '3') {
				dropdownMenu3.removeChild(item);
			} else if (menuNumber === '4') {
				dropdownMenu4.removeChild(item);
			} else if (menuNumber === '5') {
				dropdownMenu5.removeChild(item);
			}
		}

		dropdownContainer1.addEventListener('mouseover', function () {
			dropdownMenu1.classList.add('show');
		});

		dropdownContainer2.addEventListener('mouseover', function () {
			dropdownMenu2.classList.add('show');
		});

		dropdownContainer3.addEventListener('mouseover', function () {
			dropdownMenu3.classList.add('show');
		});

		dropdownContainer4.addEventListener('mouseover', function () {
			dropdownMenu4.classList.add('show');
		});

		dropdownContainer5.addEventListener('mouseover', function () {
			dropdownMenu5.classList.add('show');
		});



		dropdownContainer1.addEventListener('mouseout', function () {
			dropdownMenu1.classList.remove('show');
		});

		dropdownContainer2.addEventListener('mouseout', function () {
			dropdownMenu2.classList.remove('show');
		});

		dropdownContainer3.addEventListener('mouseout', function () {
			dropdownMenu3.classList.remove('show');
		});

		dropdownContainer4.addEventListener('mouseout', function () {
			dropdownMenu4.classList.remove('show');
		});

		dropdownContainer5.addEventListener('mouseout', function () {
			dropdownMenu5.classList.remove('show');
		});

		function collectExistingItems() {
			collectDropdownItems('myDropdown1', 'dropdown1');
			collectDropdownItems('myDropdown2', 'dropdown2');
			collectDropdownItems('myDropdown3', 'dropdown3');
			collectDropdownItems('myDropdown4', 'dropdown4');
			collectDropdownItems('myDropdown5', 'dropdown5');
		}

		function collectDropdownItems(dropdownId, dataKey) {
			var dropdown = document.getElementById(dropdownId);
			var items = dropdown.getElementsByClassName('dropdown-item');

			for (var i = 0; i < items.length; i++) {
				var itemText = items[i].textContent.trim();
				if (itemText !== '') {
					dataToSend[dataKey].push(itemText);
				}
			}
		}

		secondpageref.addEventListener('click', function () {
			collectExistingItems();
			var xhr = new XMLHttpRequest();
			xhr.open('POST', 'DataSave.php', true);
			xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

			// Відправляємо дані на сервер
			xhr.send(JSON.stringify(dataToSend));
		});

		document.addEventListener('DOMContentLoaded', function () {
			// Викликаємо функцію завантаження даних після завантаження сторінки
			loadDropdownData();
		});

		function loadDropdownData() {
			// Замість URL введіть URL вашого JSON-файлу
			var jsonUrl = 'data.json';

			fetch(jsonUrl)
				.then(response => response.json())
				.then(data => {
					// Заповнюємо вміст дропдаунів з даними з JSON
					fillDropdown('myDropdown1', data.dropdown1);
					fillDropdown('myDropdown2', data.dropdown2);
					fillDropdown('myDropdown3', data.dropdown3);
					fillDropdown('myDropdown4', data.dropdown4);
					fillDropdown('myDropdown5', data.dropdown5);
				})
				.catch(error => console.error('Error fetching JSON:', error));
		}

		function fillDropdown(dropdownId, items) {
			var dropdown = document.getElementById(dropdownId);

			// Очищаємо вміст дропдауна
			dropdown.innerHTML = '';

			// Заповнюємо дропдаун елементами з масиву
			items.forEach(itemText => {
				if (itemText.trim() !== '') {
					var newItem = document.createElement('a');
					newItem.href = '#';
					newItem.className = 'dropdown-item';
					newItem.textContent = itemText;

					newItem.addEventListener('click', function () {
						removeItem(newItem, dropdownId);
					});

					dropdown.appendChild(newItem);
				}
			});
		}
	</script>
</body>

</html>